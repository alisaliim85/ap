<div class="overflow-x-auto bg-white rounded-2xl border border-slate-200 shadow-sm">
    <table class="w-full text-right text-sm">
        <thead class="bg-slate-50 text-slate-500 font-black border-b border-slate-200">
            <tr>
                <th class="px-6 py-4">الاسم</th>
                <th class="px-6 py-4">النوع</th>
                <th class="px-6 py-4">المدينة</th>
                <th class="px-6 py-4">العنوان</th>
                <th class="px-6 py-4 w-32">الإجراءات</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-slate-100">
            {% for provider in providers %}
            <tr class="hover:bg-brand-50/30 transition group">
                <td class="px-6 py-4 font-bold text-slate-800">
                    <div>{{ provider.name_ar }}</div>
                    <div class="text-[10px] text-slate-400 font-mono">{{ provider.name_en }}</div>
                </td>
                <td class="px-6 py-4">
                    <span
                        class="px-3 py-1 bg-slate-100 text-slate-600 font-bold text-[10px] rounded-full border border-slate-200 uppercase tracking-wider">
                        {{ provider.get_type_display }}
                    </span>
                </td>
                <td class="px-6 py-4 font-medium text-slate-600">{{ provider.city }}</td>
                <td class="px-6 py-4 text-xs text-slate-400">{{ provider.address|truncatechars:50 }}</td>
                <td class="px-6 py-4">
                    <div class="flex items-center justify-end gap-2 transition-opacity group-hover:opacity-100">
                        <a href="{% url 'networks:service_provider_update' provider.pk %}"
                            class="p-1.5 text-slate-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition"
                            title="تعديل">
                            <i class="ph-duotone ph-pencil-simple text-lg"></i>
                        </a>
                        <a href="{% url 'networks:service_provider_delete' provider.pk %}"
                            class="p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition"
                            title="حذف">
                            <i class="ph-duotone ph-trash text-lg"></i>
                        </a>
                    </div>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" class="px-6 py-20 text-center">
                    <div class="flex flex-col items-center justify-center text-slate-400">
                        <i class="ph-duotone ph-first-aid text-5xl mb-3"></i>
                        <p class="font-bold">لا يوجد مقدمي خدمة مطابقين للبحث</p>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Pagination -->
{% if page_obj.has_other_pages %}
<div class="mt-6 flex justify-center">
    <nav class="flex items-center gap-1 bg-white p-1 rounded-xl border border-slate-200 shadow-sm">
        {% if page_obj.has_previous %}
        <a href="javascript:void(0)"
            hx-get="{% url 'networks:service_provider_list' %}?page={{ page_obj.previous_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}"
            hx-target="#provider-table-container"
            class="p-2 text-slate-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-all">
            <i class="ph-bold ph-caret-right"></i>
        </a>
        {% endif %}

        {% for i in page_obj.paginator.page_range %}
        {% if page_obj.number == i %}
        <span
            class="w-10 h-10 flex items-center justify-center bg-brand-600 text-white text-xs font-black rounded-lg shadow-lg shadow-brand-200">{{
            i }}</span>
        {% elif i > page_obj.number|add:'-3' and i < page_obj.number|add:'3' %} <a href="javascript:void(0)"
            hx-get="{% url 'networks:service_provider_list' %}?page={{ i }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}"
            hx-target="#provider-table-container"
            class="w-10 h-10 flex items-center justify-center text-slate-500 hover:text-brand-600 hover:bg-brand-50 text-xs font-bold rounded-lg transition-all">
            {{ i }}</a>
            {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
            <a href="javascript:void(0)"
                hx-get="{% url 'networks:service_provider_list' %}?page={{ page_obj.next_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}"
                hx-target="#provider-table-container"
                class="p-2 text-slate-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-all">
                <i class="ph-bold ph-caret-left"></i>
            </a>
            {% endif %}
    </nav>
</div>
{% endif %}